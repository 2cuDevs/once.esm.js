<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1290px" preserveAspectRatio="none" style="width:1325px;height:1290px;" version="1.1" viewBox="0 0 1325 1290" width="1325px" zoomAndPan="magnify"><defs><filter height="300%" id="f176robyqb8bh6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="212" x="550" y="17.4023">once.sh - State Diagram</text><!--MD5=[0b77f2cd067126ac3072d440011da689]
cluster ONCE_STATE--><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="498" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="565" x="748" y="483.1992"/><rect fill="#FFFFFF" height="465.5117" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="559" x="751" y="512.6875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="748" x2="1313" y1="509.6875" y2="509.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="985.5" y="500.7344">ONCE_STATE</text><g id="ONCE_STATE.installation.checked"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="156" x="809" y="653.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="809" x2="965" y1="679.6875" y2="679.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="819" y="671.7344">installation.checked</text></g><g id="ONCE_STATE.user.installation"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="130" x="974" y="526.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="974" x2="1104" y1="552.6875" y2="552.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="984" y="544.7344">user.installation</text></g><g id="ONCE_STATE.custom.installation"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="150" x="1139" y="526.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1139" x2="1289" y1="552.6875" y2="552.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="1149" y="544.7344">custom.installation</text></g><g id="ONCE_STATE.root.installation"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="129" x="809.5" y="526.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="809.5" x2="938.5" y1="552.6875" y2="552.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="819.5" y="544.7344">root.installation</text></g><g id="ONCE_STATE.installed"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="78" x="1071" y="653.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1071" x2="1149" y1="679.6875" y2="679.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="1081" y="671.7344">installed</text></g><g id="ONCE_STATE.not.installed"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="105" x="829.5" y="780.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="829.5" x2="934.5" y1="806.6875" y2="806.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="839.5" y="798.7344">not.installed</text></g><g id="ONCE_STATE.repo.installed"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="114" x="817" y="907.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="817" x2="931" y1="933.6875" y2="933.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="827" y="925.7344">repo.installed</text></g><ellipse cx="374" cy="37.1992" fill="#000000" filter="url(#f176robyqb8bh6)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="uninitalized"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="101" x="323.5" y="108.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="323.5" x2="424.5" y1="134.6875" y2="134.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="333.5" y="126.7344">uninitalized</text></g><g id="discover"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="77" x="638.5" y="108.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="638.5" x2="715.5" y1="134.6875" y2="134.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="648.5" y="126.7344">discover</text></g><g id="initalized"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="83" x="885.5" y="108.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="885.5" x2="968.5" y1="134.6875" y2="134.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="895.5" y="126.7344">initalized</text></g><g id="once"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="57" x="1111.5" y="108.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1111.5" x2="1168.5" y1="134.6875" y2="134.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="1121.5" y="126.7344">.once</text></g><g id="check.privileges"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="129" x="862.5" y="235.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="862.5" x2="991.5" y1="261.6875" y2="261.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="872.5" y="253.7344">check.privileges</text></g><g id="root"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="859" y="362.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="859" x2="909" y1="388.6875" y2="388.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="869.5" y="380.7344">root</text></g><g id="user"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="1014" y="362.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1014" x2="1064" y1="388.6875" y2="388.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="1024" y="380.7344">user</text></g><g id="started"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="470" y="1147.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="470" x2="538" y1="1173.6875" y2="1173.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="480" y="1165.7344">started</text></g><ellipse cx="147" cy="1268.1992" fill="none" filter="url(#f176robyqb8bh6)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="147.5" cy="1268.6992" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><g id="stopped"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="76" x="7" y="1036.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="7" x2="83" y1="1062.6875" y2="1062.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="17" y="1054.7344">stopped</text></g><g id="already.started"><rect fill="#FEFECE" filter="url(#f176robyqb8bh6)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="122" x="86" y="653.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="86" x2="208" y1="679.6875" y2="679.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="96" y="671.7344">already.started</text></g><!--MD5=[5203c717d61211f827603c0300f76cfb]
link *start to uninitalized--><path d="M374,47.2092 C374,59.8992 374,83.6092 374,102.7692 " fill="none" id="*start-to-uninitalized" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="374,108.0392,378,99.0392,374,103.0392,370,99.0392,374,108.0392" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9bdcea2c0fb4f371afbbebe7a1f01a5e]
link uninitalized to discover--><path d="M424.72,133.1992 C482.98,133.1992 577.64,133.1992 632.94,133.1992 " fill="none" id="uninitalized-to-discover" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="638.17,133.1992,629.17,129.1992,633.17,133.1992,629.17,137.1992,638.17,133.1992" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="517" y="126.7676">start</text><!--MD5=[fb40bfb95e5f4692a8083059651be2b5]
link discover to initalized--><path d="M715.51,133.1992 C759.79,133.1992 832.44,133.1992 880.01,133.1992 " fill="none" id="discover-to-initalized" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="885.1,133.1992,876.1,129.1992,880.1,133.1992,876.1,137.1992,885.1,133.1992" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="734" y="126.7676">[.once not found] init</text><!--MD5=[a750a7b33ca17c639d32750550d522e0]
link initalized to .once--><path d="M968.57,133.1992 C1008.73,133.1992 1068.8,133.1992 1106.13,133.1992 " fill="none" id="initalized-to-.once" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1111.47,133.1992,1102.47,129.1992,1106.47,133.1992,1102.47,137.1992,1111.47,133.1992" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="987" y="126.7676">hibernate update</text><!--MD5=[0bfda54293017b5789e872fdc0072ff0]
link initalized to check.privileges--><path d="M927,158.2992 C927,178.7892 927,208.2792 927,230.0792 " fill="none" id="initalized-to-check.privileges" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="927,235.1692,931,226.1692,927,230.1692,923,226.1692,927,235.1692" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="928" y="201.7676">check.privileges</text><!--MD5=[d574e95344adea64048b66782f540fcd]
link check.privileges to root--><path d="M918.71,285.2992 C911.63,305.8792 901.43,335.5292 893.92,357.3592 " fill="none" id="check.privileges-to-root" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="892.27,362.1692,898.9632,354.9442,893.8854,357.4374,891.3922,352.3596,892.27,362.1692" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="909" y="328.7676">root</text><!--MD5=[c8f1c496faffefe64e23202010614f71]
link check.privileges to user--><path d="M948.59,285.2992 C967.27,306.1392 994.27,336.2692 1013.9,358.1792 " fill="none" id="check.privileges-to-user" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1017.47,362.1692,1014.4404,352.7979,1014.1323,358.4464,1008.4838,358.1383,1017.47,362.1692" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="990" y="328.7676">user</text><!--MD5=[a1fc89d9c1d9438c418c6123de57eb35]
link discover to ONCE_STATE--><path d="M682.11,158.3592 C691.43,202.4042 711.9025,299.1842 730.1688,385.5355 C734.7353,407.1233 739.164,428.0593 743.246,447.3566 C745.2871,457.0052 747.2414,466.2442 749.0831,474.9501 C749.5435,477.1266 749.9968,479.2697 750.4427,481.3777 C750.5542,481.9046 750.6652,482.4294 750.7757,482.952 " fill="none" id="discover-to-ONCE_STATE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="750.7757,482.952,752.8265,473.319,749.741,478.0602,744.9997,474.9746,750.7757,482.952" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="719" y="328.7676">[.once loaded]</text><!--MD5=[3151bd950e52fa4e2273d408b0b4cad2]
link ONCE_STATE to installation.checked--><path d="M765.07,552.3192 C766.59,554.8592 791.34,595.9192 818,623.1992 C827.2,632.6092 838.06,641.8292 848.41,649.9092 " fill="none" id="ONCE_STATE-to-installation.checked" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="852.5,653.0592,847.8082,644.3997,848.5379,650.0093,842.9283,650.739,852.5,653.0592" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="819" y="619.7676">stage</text><!--MD5=[fbf54be1cd8fedcb14c615077d82202d]
link user to user.installation--><path d="M1039,412.4492 C1039,441.4092 1039,489.7992 1039,520.8392 " fill="none" id="user-to-user.installation" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1039,526.0492,1043,517.0492,1039,521.0492,1035,517.0492,1039,526.0492" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1040" y="455.7676">user.installation</text><!--MD5=[9da804eeb18e6dc1896a10f2169530bf]
link user to custom.installation--><path d="M1064.2,395.5492 C1088.69,403.7192 1125.79,418.9092 1151,442.1992 C1174.91,464.2992 1192.43,497.5792 1202.84,521.3492 " fill="none" id="user-to-custom.installation" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1204.83,525.9692,1204.9613,516.1212,1202.8604,521.3735,1197.6081,519.2726,1204.83,525.9692" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="1165" y="455.7676">custom.installation</text><!--MD5=[59755180b85b868141ddf2514183bb23]
link root to root.installation--><path d="M882.5,412.4492 C880.72,441.4092 877.73,489.7992 875.81,520.8392 " fill="none" id="root-to-root.installation" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="875.49,526.0492,880.0218,517.3049,875.7895,521.0582,872.0362,516.8258,875.49,526.0492" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="881" y="455.7676">root.installation</text><!--MD5=[63dd86cd76735e1f24828e58364b3668]
link user.installation to installation.checked--><path d="M1023.01,576.5092 C1012.54,591.2092 997.88,609.6692 982,623.1992 C970.06,633.3692 955.93,642.5992 942.27,650.4392 " fill="none" id="user.installation-to-installation.checked" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="937.65,653.0492,947.4542,652.1125,942.0052,650.5932,943.5245,645.1442,937.65,653.0492" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="999" y="619.7676">check.installation</text><!--MD5=[c100b88833e6b9ecdcfdaa1ef85d2f38]
link custom.installation to installation.checked--><path d="M1188.4,576.2692 C1170.52,591.8292 1145.38,611.3292 1120,623.1992 C1072.82,645.2592 1015.94,658.6592 970.19,666.5992 " fill="none" id="custom.installation-to-installation.checked" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="965.23,667.4492,974.7686,669.9018,970.1608,666.6203,973.4423,662.0125,965.23,667.4492" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1148" y="619.7676">check.installation</text><!--MD5=[785064978e8a4d5c96f9fe65d783e7ea]
link root.installation to installation.checked--><path d="M866.53,576.3192 C863.28,590.1192 860.84,607.7092 864,623.1992 C865.72,631.6292 868.81,640.3792 872.18,648.3192 " fill="none" id="root.installation-to-installation.checked" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="874.3,653.1392,874.3315,643.2904,872.2839,648.5637,867.0106,646.5162,874.3,653.1392" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="865" y="619.7676">check.installation</text><!--MD5=[5b318d70ec7c050f527e856497b5d856]
link installation.checked to installed--><path d="M965.31,678.1992 C998.98,678.1992 1037.09,678.1992 1065.75,678.1992 " fill="none" id="installation.checked-to-installed" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1070.99,678.1992,1061.99,674.1992,1065.99,678.1992,1061.99,682.1992,1070.99,678.1992" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="983.5" y="671.7676">repo.found</text><!--MD5=[dce7794775c1571c614f6ef4ef1a41de]
link installation.checked to not.installed--><path d="M886.04,703.2992 C885.22,723.7892 884.04,753.2792 883.16,775.0792 " fill="none" id="installation.checked-to-not.installed" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="882.96,780.1692,887.3165,771.3363,883.1598,775.1732,879.3229,771.0165,882.96,780.1692" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="885" y="746.7676">repo.not.found</text><!--MD5=[9538cd528a0afae099743a386aaa225c]
link not.installed to repo.installed--><path d="M880.46,830.2992 C879.15,850.7892 877.26,880.2792 875.86,902.0792 " fill="none" id="not.installed-to-repo.installed" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="875.54,907.1692,880.0983,898.4387,875.8546,902.1791,872.1141,897.9354,875.54,907.1692" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="879" y="873.7676">eamd init repo</text><!--MD5=[00b11f8f2034f387f07672bae30f17c3]
link repo.installed to started--><path d="M836.49,957.3292 C765.93,1002.7192 614.14,1100.3592 542.69,1146.3192 " fill="none" id="repo.installed-to-started" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="538.1,1149.2692,547.8336,1147.7671,542.3059,1146.5654,543.5076,1141.0377,538.1,1149.2692" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="715" y="1066.2676">server.start</text><!--MD5=[af85f43fb507fcfcdfb87960a55b7602]
link installed to started--><path d="M1092.29,703.1992 C1076.22,727.4092 1055,766.4992 1055,804.1992 C1055,804.1992 1055,804.1992 1055,1062.1992 C1055,1166.6792 668.96,1172.6192 543.13,1171.7792 " fill="none" id="installed-to-started" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="538.05,1171.7392,547.027,1175.7906,543.0499,1171.7678,547.0727,1167.7907,538.05,1171.7392" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="1056" y="937.2676">server.start</text><!--MD5=[04daa24fa00d6ebffc4dc7c0f884cf2e]
link started to *end--><path d="M469.77,1182.2092 C393.84,1202.1992 213.9,1249.5792 161.53,1263.3692 " fill="none" id="started-to-*end" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="156.6,1264.6692,166.3219,1266.2457,161.4352,1263.396,164.2848,1258.5094,156.6,1264.6692" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e3f5b8b0d211ae575dd3a81818f7046f]
link stopped to *end--><path d="M54.67,1086.4292 C68.1,1119.2892 93.83,1179.4792 121,1228.1992 C126.25,1237.6192 133.03,1247.7292 138.35,1255.2992 " fill="none" id="stopped-to-*end" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="141.45,1259.6592,139.5026,1250.0048,138.556,1255.5819,132.9789,1254.6353,141.45,1259.6592" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[dffc15ccdf278f45dc41e39d22df4c1b]
link uninitalized to stopped--><path d="M323.32,141.9392 C228.33,157.8892 33,198.1192 33,259.1992 C33,259.1992 33,259.1992 33,933.1992 C33,966.8392 37.22,1005.2592 40.66,1030.9492 " fill="none" id="uninitalized-to-stopped" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="41.33,1035.9192,44.0822,1026.4627,40.657,1030.9647,36.155,1027.5395,41.33,1035.9192" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="34" y="619.7676">stop</text><!--MD5=[8849702c0c156b13b302aa10535d3ca4]
link uninitalized to already.started--><path d="M323.41,137.0792 C249.58,144.3292 121,169.7892 121,259.1992 C121,259.1992 121,259.1992 121,552.1992 C121,585.6592 130.04,623.1092 137.46,648.2292 " fill="none" id="uninitalized-to-already.started" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="138.92,653.0792,140.1786,643.3111,137.4898,648.2881,132.5128,645.5994,138.92,653.0792" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="122" y="392.2676">start [ONCE_SERVER_PID found]</text><!--MD5=[0f23c8007b0d049abbeb370d78203f82]
link uninitalized to started--><path d="M424.63,157.8492 C461.14,178.7892 504,213.1692 504,259.1992 C504,259.1992 504,259.1992 504,1062.1992 C504,1089.1792 504,1119.9192 504,1141.8592 " fill="none" id="uninitalized-to-started" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="504,1146.9592,508,1137.9592,504,1141.9592,500,1137.9592,504,1146.9592" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="505" y="683.2676">start [no ONCE_SERVER_PID found]</text><!--MD5=[0f23c8007b0d049abbeb370d78203f82]
link uninitalized to started--><path d="M374,158.6292 C374,183.8292 374,224.2592 374,259.1992 C374,259.1992 374,259.1992 374,1062.1992 C374,1110.1192 426.51,1141.1492 464.78,1157.4092 " fill="none" id="uninitalized-to-started-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="469.84,1159.5092,463.0598,1152.3658,465.2217,1157.5933,459.9942,1159.7551,469.84,1159.5092" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="375" y="683.2676">start new</text><!--MD5=[fd66584089e3724cb9e7bb988e69e768]
link already.started to *end--><path d="M147,703.6292 C147,728.8292 147,769.2592 147,804.1992 C147,804.1992 147,804.1992 147,1173.1992 C147,1201.4492 147,1234.4692 147,1252.8992 " fill="none" id="already.started-to-*end" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="147,1258.1292,151,1249.1292,147,1253.1292,143,1249.1292,147,1258.1292" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[40712f5503425802ed43167bcee029a1]
@startuml

title once.sh - State Diagram 

[*] - -> uninitalized
uninitalized -right-> discover: start
discover -right-> initalized: [.once not found] init

initalized -right-> .once: hibernate update
initalized -down-> check.privileges: check.privileges
check.privileges -down-> root: root
check.privileges -down-> user: user

discover -down- - -> ONCE_STATE: [.once loaded]
state ONCE_STATE {
    ONCE_STATE -down-> installation.checked: stage
    user -down-> user.installation: user.installation
    user -down-> custom.installation: custom.installation
    root -down-> root.installation: root.installation

    user.installation -down-> installation.checked: check.installation
    custom.installation -down-> installation.checked: check.installation
    root.installation -down-> installation.checked: check.installation
    
    installation.checked -right-> installed: repo.found
    installation.checked -down-> not.installed: repo.not.found
    not.installed -down-> repo.installed: eamd init repo
}
    repo.installed -down-> started: server.start
installed -down- - - -> started: server.start
started - -> [*]
stopped - - -> [*]
uninitalized - - - - -> stopped: stop
uninitalized - - - - -> already.started: start [ONCE_SERVER_PID found]
uninitalized - - - - -> started: start [no ONCE_SERVER_PID found]
uninitalized - - - - -> started: start new

already.started - -> [*]
@enduml

PlantUML version 1.2020.22(Sun Dec 06 10:36:27 CET 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>